<div class="container">
  <h1>Upload Files</h1>
  <form #uploadForm="ngForm" novalidate (ngSubmit)="onSubmit(uploadForm)">
    <div class="form-group">
      <label for="albumName">Files to upload</label>
      <input name="fileList" (change)="setFiles($event)" required ngModel multiple="" type="file" class="form-control input-lg" placeholder="Upload File" accept=".png,.gif,.jpg">
    </div>
    <button type="submit" class="btn btn-primary" [disabled]= "newUpload == null">Start Upload</button>
  </form>
  <h1>Running Uploads</h1>
  <div *ngFor="let upload of uploads" class="panel panel-default">
    <div class="panel-heading">
      {{upload.items.length}} files, @ 21:01:22 3 May 2017
    </div>
    <div class="panel-body">
        <button type="button" class="btn btn-danger" [disabled]= "newUpload == null"><span class="glyphicon glyphicon-stop"></span> Cancel</button>
        <button type="button" class="btn btn-warning" [disabled]= "newUpload == null"><span class="glyphicon glyphicon-refresh"></span> Retry</button>
        <button type="button" class="btn btn-success" [disabled]= "newUpload == null"><span class="glyphicon glyphicon-close"></span> Close</button>
        <table class="table">
        <thead>
          <tr>
            <th>Status</th>
            <th>Image</th>
            <th>Filename</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let uploadItem of upload.items" class="uploadRow">
            <td [ngSwitch]="uploadItem.status" >
              <div *ngSwitchCase="uploadStatus.Failed" ><span class="glyphicon glyphicon-remove-circle"></span> Failed</div> 
              <div *ngSwitchCase="uploadStatus.Ongoing" ><span class="glyphicon glyphicon-upload"></span> Uploading</div>
              <div *ngSwitchCase="uploadStatus.NotStarted"><span  class="glyphicon glyphicon-hourglass"></span> Not Started</div> 
              <div *ngSwitchCase="uploadStatus.Completed"><span class="glyphicon glyphicon-ok-circle"></span> Completed</div>
            </td>
            <td>
                <img class="thumb"
                src="{{uploadItem.dataUrl}}"
                />                              
            </td>
            <td>{{uploadItem.file.name}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>


